{{ partial "header.html" . }}

<div id="app-root">

    <div class="blog-hero">
        <h1>Sitemap</h1>
        <p>An overview of all pages and content on this site.</p>
    </div>

    <div class="home-section" style="max-width: 700px; margin: 40px auto;">
        
        {{ range .Site.RegularPages.GroupBy "Section" }}
        <div class="sitemap-group">
            
            <h2 class="sitemap-heading">
                <i data-lucide="folder-open" width="20"></i>
                {{ if eq .Key "" }}
                    General Pages
                {{ else }}
                    {{ .Key | humanize | title }}
                {{ end }}
            </h2>

            <ul class="sitemap-list">
                {{ range .Pages }}
                <li>
                    <a href="{{ .Permalink }}" class="sitemap-link">
                        <span class="sitemap-title">
                            {{ if .Title }}
                                {{ .Title }}
                            {{ else if eq .Section "thoughts" }}
                                {{ (.Plain | truncate 60) }}
                            {{ else }}
                                Untitled
                            {{ end }}
                        </span>
                        {{ if not .Date.IsZero }}
                        <span class="sitemap-date">{{ .Date.Format "Jan 02, 2006" }}</span>
                        {{ end }}
                    </a>
                </li>
                {{ end }}
            </ul>
        </div>
        {{ end }}

        <div class="sitemap-group">
            <h2 class="sitemap-heading">
                <i data-lucide="tag" width="20"></i> Tags
            </h2>
            <ul class="sitemap-list">
                {{ $tags := .Site.Taxonomies.tags }}
                {{ range $tags.ByCount }}
                <li>
                    <a href="{{ .Page.Permalink }}" class="sitemap-link">
                        <span class="sitemap-title">{{ .Name }}</span>
                        <span class="sitemap-date">{{ .Count }} post{{ if ne .Count 1 }}s{{ end }}</span>
                    </a>
                </li>
                {{ end }}
            </ul>
        </div>

    </div>
</div>

<script>
    if (typeof lucide !== 'undefined') {
        lucide.createIcons();
    }
</script>

{{ partial "footer.html" . }}