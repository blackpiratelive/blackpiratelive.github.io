{{ define "main" }}


<section class="col panel panel--thoughts">
  <h1 class="section-title">Micro Feed</h1>
  <div class="thoughts-feed">
    {{ range (.Paginate .Pages 100).Pages }}
    <div class="thought-item">
      <div class="thought-meta">
        {{ .Date.Format "Jan 02, 2006" }} · {{ .Date.Format "15:04" }}
      </div>
      {{ .Content }}
      {{ with .Params.tags }}
      {{ range $index, $tag := . }}
      {{ if $index }} / {{ end }}
      <a href="{{ " /tags/" | relURL }}{{ $tag | urlize }}">#{{ $tag }}</a>
      {{ end }}
      {{ end }}
    </div>
    <div class="divider"></div>
    {{ end }}
  </div>
</section>

{{ $paginator := .Paginator }}
{{ if gt $paginator.TotalPages 1 }}
<div class="pagination">
  {{ if $paginator.HasPrev }}
  <a href="{{ $paginator.Prev.URL }}" class="pagination-link">« Prev</a>
  {{ end }}

  {{ range $paginator.Pagers }}
  <a href="{{ .URL }}" class="pagination-link{{ if eq . $paginator }} active{{ end }}">{{ .PageNumber }}</a>
  {{ end }}

  {{ if $paginator.HasNext }}
  <a href="{{ $paginator.Next.URL }}" class="pagination-link">Next »</a>
  {{ end }}
</div>
{{ end }}

{{ end }}